# 自定义卡牌导入指南

本文档旨在指导您如何创建和格式化 JSON 文件以导入自定义卡牌到系统中。请仔细阅读以下说明，特别是关于 `customFieldDefinitions` 的部分。

对应的 JSON 数据模板文件为 `sample-cards-import-guide.json`。

## JSON 文件基本结构

您的 JSON 文件应包含以下顶级字段：

*   `name` (字符串): 卡牌包的名称，将显示在卡牌管理界面。
    *   示例 (来自 `sample-cards-import-guide.json`): `\"我的自定义卡牌包\"`
*   `version` (字符串): 卡牌包的版本号。**提示：在 `sample-cards-import-guide.json` 中，此字段用于提醒您定义版本号，方便维护和更新。**
    *   示例: `\"1.0.0\"` (实际使用时应为具体版本号)
*   `description` (字符串): 卡牌包的描述信息。
    *   示例 (来自 `sample-cards-import-guide.json`): `\"这是一个示例卡牌包，详细说明了如何定义和导入自定义卡牌，包括如何使用 customFieldDefinitions。\"`
*   `author` (字符串): 卡牌包的作者。**提示：在 `sample-cards-import-guide.json` 中，此字段建议您可以加入联系方式。**
    *   示例: `\"你的名字\"`
*   `customFieldDefinitions` (对象): **非常重要**的部分，用于预定义某些卡牌字段的允许值列表。详见下文。
*   `profession` (数组): 包含所有职业卡牌对象的列表。
*   `ancestry` (数组): 包含所有血统/种族卡牌对象的列表。
*   `community` (数组): 包含所有社群卡牌对象的列表。
*   `subclass` (数组): 包含所有子职业卡牌对象的列表。
*   `domain` (数组): 包含所有领域卡牌对象的列表。

## 重要：`customFieldDefinitions`

`customFieldDefinitions` 部分允许您预定义某些卡牌字段的允许值列表。这对于确保数据一致性和在应用中正确处理这些特定字段至关重要。

**如果您计划在卡牌类型（如 `profession`, `ancestry`, `community`, `domain`）中使用新的、尚未在此处列出的值，您【必须】首先在 `customFieldDefinitions` 中对应的数组里添加这些新值。**

否则，导入时这些未定义的值可能无法被正确识别，或可能导致导入错误或数据不一致。

它包含以下子对象（示例值来自 `sample-cards-import-guide.json`）：

*   `professions` (字符串数组): 定义了所有合法的“职业”名称。
    *   这些名称将用于 \"profession\" 类型卡牌的 `\"名称\"` 字段，以及 \"subclass\" 卡牌的 `\"主职\"` 字段。
    *   示例: `[\"流浪剑客\", \"星际拓荒客\"]`
    *   如果要添加一个新的职业，例如“炼金术士”，请先在此数组中添加 `\"炼金术士\"`。
*   `ancestries` (字符串数组): 定义了所有合法的“血统”或“种族”名称。
    *   这些名称将用于 \"ancestry\" 类型卡牌的 `\"种族\"` 字段。
    *   示例: `[\"树人\"]`
    *   例如，要添加“半兽人”血统，先在此数组中添加 `\"半兽人\"`。
*   `communities` (字符串数组): 定义了所有合法的“社群”的特性或名称。
    *   这些名称将用于 \"community\" 类型卡牌的 `\"特性\"` 字段。
    *   示例: `[\"河谷之民\", \"深海之民\"]`
*   `domains` (字符串数组): 定义了所有合法的“领域”名称。
    *   这些名称将用于 \"domain\" 类型卡牌的 `\"领域\"` 字段，也可能用于 \"profession\" 卡牌的 `\"领域1\"` 和 `\"领域2\"` 字段。
    *   示例: `[\"时空\", \"幻术\", \"奥秘\"]`
    *   例如，要添加“光明治愈”领域，先在此数组中添加 `\"光明治愈\"`。

## 卡牌类型定义

下面是不同卡牌类型的数据结构。每种类型都是一个对象数组。

**通用规则:**

*   `id` / `ID` (字符串): 在【同一个卡牌包内、同一种卡牌类型中】应该是唯一的。
    *   **提示 (来自 `sample-cards-import-guide.json` 的 `profession` 卡牌): 推荐ID格式: `卡牌包名-作者名-版本-类型-唯一标识符`。系统采用ID作为卡牌的唯一识别标记，所以你可以创建相同名称的卡牌。**
*   所有文本字段均支持中文。
*   `imageUrl` / `imageURL` (字符串): 卡牌图片的URL。**提示 (来自 `sample-cards-import-guide.json` 的 `profession` 卡牌): `imageUrl` 字段保留但实际上不会使用。对于 `domain` 卡牌，如果无图则留空字符串 `\"\"`。**
*   某些描述性字段支持Markdown格式。**提示 (来自 `sample-cards-import-guide.json` 的 `profession` 卡牌 `希望特性`): 支持md格式，可以使用`**粗体**`、`*斜体*`等样式。**

### 1. 职业卡牌 (`profession`)

每个职业对象包含：

*   `id` (字符串): 唯一ID。
*   `名称` (字符串): 职业名称。**重要：此值应已在 `customFieldDefinitions.professions` 中定义。**
*   `简介` (字符串): 职业的简短描述。
*   `imageUrl` (字符串, 可选): 卡牌图片URL。
*   `领域1` (字符串): 主要领域。**重要：此值建议已在 `customFieldDefinitions.domains` 中定义。**
*   `领域2` (字符串): 次要领域。同上。
*   `起始生命` (数字): 数值类型。
*   `起始闪避` (数字): 数值类型。
*   `起始物品` (字符串): 描述性文本。**提示 (来自 `sample-cards-import-guide.json`): 请注意你的职业名称，领域名称需要与 `customFieldDefinitions` 中的定义一致。**
*   `希望特性` (字符串): 描述性文本，支持Markdown。
*   `职业特性` (字符串): 详细描述。

**示例 (取自 `sample-cards-import-guide.json`):**
```json
{
    \"id\": \"mycards-myname-1.0-prof-swordwanderer-001\",
    \"名称\": \"流浪剑客\",
    \"简介\": \"一位游历四方的剑客，擅长剑术和生存技能。\",
    \"领域1\": \"勇气\", // 注意：如果“勇气”是一个新的领域，它需要被添加到 customFieldDefinitions.domains
    \"领域2\": \"时空\",
    \"起始生命\": 24,
    \"起始闪避\": 12,
    \"起始物品\": \"长剑、轻甲和旅行者背包\",
    \"希望特性\": \"适应力强\",
    \"职业特性\": \"流浪剑客擅长剑术和野外生存，能够在各种环境中生存并战斗。\"
}
```

### 2. 血统/种族卡牌 (`ancestry`)

**提示 (来自 `sample-cards-import-guide.json`): 目前一个种族会被拆成两张卡，分别对应两个特性。请用 `类别:1` 和 `类别:2` 来区分不同特性。**

每个血统对象包含：

*   `id` (字符串): 唯一ID。
*   `名称` (字符串): 卡牌的显示名称。
*   `种族` (字符串): 种族名称。**重要：此值应已在 `customFieldDefinitions.ancestries` 中定义。**
*   `简介` (字符串): 简短描述。
*   `效果` (字符串): 描述该血统带来的效果或能力。
*   `类别` (数字): 用于区分同一血统的不同特性卡牌 (例如 `1` 或 `2`)。
*   `imageURL` (字符串, 可选): 卡牌图片URL (在当前 `sample-cards-import-guide.json` 中未包含此字段，但原始结构中有)。

**示例 (取自 `sample-cards-import-guide.json`):**
```json
{
    \"id\": \"mycards_myname_1.0_ancestry_树人_特性一\",
    \"名称\": \"目前一个种族会被拆成两张卡，分别对应两个特性\", // 实际应为特性名称，如“树皮护甲”
    \"种族\": \"树人\",
    \"简介\": \"请用类别:1和类别:2来区分不同特性\", // 实际应为该特性的简介
    \"效果\": \"获得[树皮护甲]能力（提高防御力）\",
    \"类别\": 1
}
```
```json
{
    \"id\": \"mycards_myname_1.0_ancestry_树人_特性二\",
    \"名称\": \"自然治愈\",
    \"种族\": \"树人\",
    \"简介\": \"树人是古老森林的守护者，拥有强大的生命力和自然魔法。\",
    \"效果\": \"获得[自然治愈]能力（每轮恢复少量生命）\",
    \"类别\": 2
}
```

### 3. 社群卡牌 (`community`)

每个社群对象包含：

*   `ID` (字符串): 唯一ID。
*   `名称` (字符串): 社群的显示名称。
*   `特性` (字符串): 社群的特性或唯一标识。**重要：此值应已在 `customFieldDefinitions.communities` 中定义。**
*   `简介` (字符串): 简短描述。**提示 (来自 `sample-cards-import-guide.json`): 简介只是一个简短的描述，通常是两三句话。**
*   `描述` (字符串): 详细描述。**提示 (来自 `sample-cards-import-guide.json`): 描述才是卡牌的具体效果。**
*   `imageUrl` (字符串, 可选): 卡牌图片URL (在当前 `sample-cards-import-guide.json` 中未包含此字段，但原始结构中有)。

**示例 (取自 `sample-cards-import-guide.json`):**
```json
{
    \"ID\": \"mycards_myname_1.0_riverfolk_001\",
    \"名称\": \"高山氏族\",
    \"特性\": \"山地部落\", // 注意：如果“山地部落”是一个新的社群特性/名称，它需要被添加到 customFieldDefinitions.communities
    \"简介\": \"简介只是一个简短的描述，通常是两三句话。\",
    \"描述\": \"描述才是卡牌的具体效果\"
}
```

### 4. 子职业卡牌 (`subclass`)

子职业卡牌通常扩展或专精于一个基础职业 (`\"主职\"`)。每个子职业对象包含：

*   `id` (字符串): 唯一ID。
*   `名称` (字符串): 子职业的显示名称。
*   `描述` (字符串): 详细描述。**提示 (来自 `sample-cards-import-guide.json`): 请注意，主职字段必须与职业卡牌的名称一致。等级必须在基石，专精，大师之间填写。**
*   `imageUrl` (字符串, 可选): 卡牌图片URL (在当前 `sample-cards-import-guide.json` 中未包含此字段，但原始结构中有)。
*   `主职` (字符串): 关联的基础职业名称。**重要：此值应已在 `customFieldDefinitions.professions` 中定义。**
*   `子职业` (字符串): 该子职业的特定名称。
*   `等级` (字符串): 子职业的等级或阶段 (例如：基石, 专精, 大师)。
*   `施法` (字符串): 描述该子职业的施法能力 (例如：不可施法, 部分施法等)。

**示例 (取自 `sample-cards-import-guide.json`):**
```json
{
    \"id\": \"mycards_myname_1.0_subclass_loremasters_001\",
    \"名称\": \"居合基石\",
    \"描述\": \"请注意，主职字段必须与职业卡牌的名称一致。等级必须在基石，专精，大师之间填写\",
    \"主职\": \"流浪剑客\",
    \"子职业\": \"居合斩天才\",
    \"等级\": \"专精\",
    \"施法\": \"不可施法\"
}
```

### 5. 领域卡牌 (`domain`)

领域卡牌通常代表特定的技能、法术、知识分支或力量派系。每个领域对象包含：

*   `ID` (字符串): 唯一ID。
*   `名称` (字符串): 法术、技能或能力的显示名称。
*   `领域` (字符串): 所属领域。**重要：此值应已在 `customFieldDefinitions.domains` 中定义。**
*   `描述` (字符串): 详细描述。**提示 (来自 `sample-cards-import-guide.json`): 请确保领域名称与 `customFieldDefinitions` 中的定义一致。**
*   `imageUrl` (字符串, 可选): 卡牌图片URL。
*   `等级` (数字): 法术/能力的等级或强度 (数值类型)。
*   `属性` (字符串): 施展此能力或法术所依赖的主要属性 (例如：风度, 力量, 敏捷, 智力, 魅力, 意志, 知识等)。
*   `回想` (数字): “回想”值 (数值类型，具体含义取决于您的游戏系统)。

**示例 (取自 `sample-cards-import-guide.json`):**
```json
{
    \"ID\": \"mycards_myname_1.0_domain_fireball_001\",
    \"名称\": \"爆裂火球术\",
    \"领域\": \"幻术\",
    \"描述\": \"请确保领域名称与customFieldDefinitions中的定义一致。\",
    \"imageUrl\": \"\",
    \"等级\": 3,
    \"属性\": \"风度\",
    \"回想\": 2
}
```

请使用此指南和 `sample-cards-import-guide.json` 文件作为模板来创建您自己的自定义卡牌包。
