# DaggerHeart 自定义卡牌包指南

## 🎯 快速开始

创建自定义卡牌包就是制作一个 JSON 文件，文件中定义了你想要添加到游戏中的新卡牌。这个指南将帮你快速上手！

你可以在这里找到示例： https://github.com/RidRisR/DaggerHeart-CharacterSheet/blob/main/自定义卡包示例/示例卡牌包.json 

## 📋 卡牌包基本结构

一个卡牌包的基本信息包括：

```json
{
  "name": "我的奇幻冒险包",
  "version": "1.0.0",
  "description": "包含神秘法师、精灵战士等内容的奇幻主题卡牌包",
  "author": "你的名字 <your.email@example.com>"
}
```

## 🔧 自定义字段定义 (customFieldDefinitions)

在你的卡牌包JSON文件的顶层，你需要一个名为 `customFieldDefinitions` 的对象。这个对象是你定义所有自定义基础类型的地方，包括新的职业、种族、社区、领域，以及特殊的扩展卡牌类型。**确保所有这些定义都嵌套在 `customFieldDefinitions` 内部。**

下面是一个 `customFieldDefinitions` 的结构示例：

```json
"customFieldDefinitions": {
  "variantTypes": {
    // 卡牌类型名称必须是全局唯一的
    "卡牌类型名称": {
      "description": "",
      "subclasses": [],
      "levelRange": [1, 10] //可选字段
    },
    // 你可以根据需要添加更多自定义的扩展卡牌类型
  },
  "professions": [],
  // 在这里列出所有自定义的职业名称
  "ancestries": [],
  // 在这里列出所有自定义的种族名称
  "communities": [],
  // 在这里列出所有自定义的社群名称
  "domains": []
  // 在这里列出所有自定义的领域名称
}
```

### `customFieldDefinitions` 详解：

*   **`variantTypes` (扩展卡牌类型)**:
    *   用于定义非标准卡牌类型 (例如 "人物", "物品")，这些卡牌会出现在游戏中的"扩展"区域。
    *   每个类型可以包含:
        *   `description`: 对该类型的描述。它不会在车卡器中显示。
        *   `subclasses`: 一个字符串数组，定义该类型下的子分类 (如 "盟友", "武器")，用于游戏内根据类别筛选卡牌。**你可以将它留空，但不要删掉这个字段**。
        *   `levelRange`: (可选) 一个包含两个数字的数组 `[min, max]` (如 `[1, 10]`)，定义等级范围，主要用于 "物品" 等有等级概念的卡牌。

*   **`professions` (职业)**:
    *   一个字符串数组，列出你卡牌包中所有新的职业名称 (例如 `"神秘法师"`, `"龙骑士"`)。

*   **`ancestries` (种族)**:
    *   一个字符串数组，列出所有新的种族名称 (例如 `"半龙人"`, `"星之子"`)。

*   **`communities` (社区)**:
    *   一个字符串数组，列出所有新的社区名称 (例如 `"魔法学院"`, `"龙骑士团"`)。

*   **`domains` (领域)**:
    *   一个字符串数组，列出所有新的领域名称 (例如 `"星辰"`, `"龙族"`)。

以下是一个`customFieldDefinitions`字段的具体例子：

```json
    "customFieldDefinitions": {
        "variantTypes": {
            "人物": {
                "description": "NPC、盟友、敌人等角色卡牌",
                "subclasses": [
                    "盟友",
                    "敌人",
                    "中立",
                    "商人"
                ]
            },
            "物品": {
                "description": "武器、防具、饰品等装备",
                "subclasses": [
                    "武器",
                    "防具",
                    "饰品",
                    "消耗品"
                ],
                "levelRange": [
                    1,
                    10
                ]
            }
        },
        "professions": [
            "神秘法师",
            "龙骑士",
            "流浪剑客"
        ],
        "ancestries": [
            "半龙人",
            "星之子"
        ],
        "communities": [
            "魔法学院",
            "龙骑士团",
            "星辰教团"
        ],
        "domains": [
            "星辰",
            "龙族",
            "神秘",
            "时空"
        ]
    },
```

**重要**: 当你在后续字段中定义具体的卡牌（如职业卡牌、种族卡牌等）时，所引用的职业名称、种族名称、领域等，都**必须**是已在 `customFieldDefinitions` 的相应数组中预先声明过的。

## 🃏 卡牌类型详解

所有的卡牌都以id作为唯一标识符，只要id不相同，就被判定为不同的卡牌。

### 职业卡牌 (profession)

```json
"profession": [
  {
    "id": "fantasy-pack-author-1.0-prof-mystic-mage",
    "名称": "神秘法师",
    "简介": "掌握星辰之力的强大法师",
    "领域1": "星辰",
    "领域2": "神秘", 
    "起始生命": 10,
    "起始闪避": 10,
    "起始物品": "法师法杖、魔法长袍、法术书",
    "希望特性": "**博学多识** - 对神秘知识有深入理解",
    "职业特性": "**星辰之力**：你可以从星空中汲取力量。每次长休息后，你获得额外的法术位。\n\n**魔法专精**：所有魔法伤害+2点。"
  }
]
```

### 种族卡牌 (ancestry)

每个种族分为两张卡牌（类别1和类别2）：

```json
"ancestry": [
  {
    "id": "fantasy-pack-author-1.0-ancestry-half-dragon-trait1",
    "名称": "龙血觉醒",
    "种族": "半龙人",
    "简介": "体内流淌着古龙血脉",
    "效果": "**龙血传承**：你对火焰伤害有抗性，受到火焰伤害时减少一半。",
    "类别": 1
  },
  {
    "id": "fantasy-pack-author-1.0-ancestry-half-dragon-trait2", 
    "名称": "龙息吐息",
    "种族": "半龙人",
    "简介": "可以喷吐龙族的烈焰吐息",
    "效果": "**烈焰吐息**：每场战斗一次，你可以对前方锥形区域内的所有敌人造成火焰伤害。",
    "类别": 2
  }
]
```

### 社区卡牌 (community)

```json
"community": [
  {
    "id": "fantasy-pack-author-1.0-community-magic-academy",
    "名称": "魔法学院",
    "特性": "学者气质",
    "简介": "在古老的魔法学院中学习奥秘知识", 
    "描述": "你在所有**知识类**和**魔法类**的掷骰中具有优势。\n\n你认识许多法师朋友，可以通过人脉获得稀有法术材料。"
  }
]
```

### 子职业卡牌 (subclass)

```json
"subclass": [
  {
    "id": "fantasy-pack-author-1.0-subclass-star-caller-foundation",
    "名称": "星辰召唤者",
    "描述": "**星光指引**：你的法术在夜晚威力增强。\n\n**占星术**：你可以预测即将发生的危险。",
    "主职": "神秘法师",
    "子职业": "星辰召唤者", 
    "等级": "基石",
    "施法": "风度"
  }
]
```

### 领域法术卡牌 (domain)

```json
"domain": [
  {
    "id": "fantasy-pack-author-1.0-domain-starfall",
    "名称": "星辰坠落",
    "领域": "星辰",
    "描述": "召唤星辰之力，让流星从天而降攻击敌人。\n\n**效果**：对大范围内的所有敌人造成星辰伤害。",
    "等级": 5,
    "属性": "法术", 
    "回想": 4
  }
]
```

### 扩展卡牌 (variant)

这是最灵活的卡牌类型，可以是任何你定义的内容：

```json
"variant": [
  {
    "id": "fantasy-pack-author-1.0-variant-wise-elder",
    "名称": "智慧长者埃尔多安",
    "类型": "人物",
    "子类别": "盟友", 
    "等级": 8,
    "效果": "**古老智慧**：可以回答任何历史或魔法相关的问题。\n\n**魔法指导**：为你的法术提供建议，让你在施法时获得优势。",
    "简略信息": {
      "item1": "历史专家",
      "item2": "魔法导师", 
      "item3": "友善长者"
    }
  },
  {
    "id": "fantasy-pack-author-1.0-variant-dragon-scale-armor",
    "名称": "龙鳞护甲",
    "类型": "装备",
    "子类别": "防具",
    "等级": 6, 
    "效果": "**龙鳞防护**：提供+3护甲值，对火焰和寒冷伤害免疫。\n\n**威严气场**：穿戴时，你在威吓检定中获得优势。",
    "简略信息": {
      "item1": "+3护甲",
      "item2": "元素免疫",
      "item3": "威吓加成"
    }
  }
]
```

## 💡 实用技巧

### ID 命名规范
推荐使用这样的格式：`包名-作者-版本-类型-唯一标识`

例如：`fantasy-pack-zhang-1.0-prof-mystic-mage`

### Markdown 格式支持
大部分文本字段都支持 Markdown 格式：
- `**粗体**` 
- `*斜体*`
- `\n\n` 换行
- 可以写多行文本

### 字段一致性
确保你的自定义内容与 `customFieldDefinitions` 中定义的保持一致：
- 职业的"领域1"、"领域2" 必须在 `domains` 列表中
- 子职业的"主职" 必须与某个职业的"名称"一致
- 领域法术的"领域" 必须在 `domains` 列表中
- 扩展卡牌的"类型" 必须在 `variantTypes` 中定义

## 🚀 导入和使用

1. 保存你的 JSON 文件
2. 选择你的卡牌包文件，导入“卡牌管理”
3. 回到主页面并刷新
4. 享受你的新卡牌吧

## 📝 示例文件

查看 `示例卡牌包.json` 文件，其中包含了完整的示例，展示了如何创建各种类型的卡牌。

---

**提示**：从简单开始！先创建一两张卡牌试试，熟悉格式后再扩展更多内容。
